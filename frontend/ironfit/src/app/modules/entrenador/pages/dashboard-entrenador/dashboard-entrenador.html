<div class="dashboard-layout">
    <!-- HEADER -->
    <header class="dashboard-header">
        <div class="dashboard-header-left">
            <img
                src="assets/ironfit/logo-horizontal.png"
                alt="IronFit"
                class="dashboard-logo"
            />
            <span class="dashboard-role-pill">Entrenador</span>
        </div>

        <div class="dashboard-header-right">
            <span class="dashboard-username">Hola, {{ nombreUsuario }}</span>
            <button class="dashboard-logout-btn" (click)="logout()">
                Cerrar sesión
            </button>
        </div>
    </header>

    <!-- BOTÓN MENÚ HAMBURGUESA -->
    <div class="quick-menu-container">
        <button class="quick-menu-toggle" (click)="toggleMenu()">
            <span class="quick-menu-icon">
                <span></span>
                <span></span>
                <span></span>
            </span>
            <span class="quick-menu-label">Menú rápido</span>
        </button>
    </div>

    <!-- MENÚ FLOTANTE -->
    <div class="quick-menu-backdrop" *ngIf="showMenu" (click)="closeMenu()"></div>

    <div class="quick-menu-panel" *ngIf="showMenu">
        <h3 class="quick-menu-title">Accesos del entrenador</h3>

        <button
            class="quick-menu-item"
            routerLink="/entrenador/MisClientes"
            (click)="closeMenu()"
        >
            <div class="quick-menu-textblock">
                <span class="item-title">Mis clientes</span>
                <span class="item-subtitle">Gestiona tu cartera</span>
            </div>
            <span class="item-pill">Ver clientes</span>
        </button>

        <button
            class="quick-menu-item"
            routerLink="/entrenador/MisPlanes"
            (click)="closeMenu()"
        >
            <div class="quick-menu-textblock">
                <span class="item-title">Mis planes de entrenamiento</span>
                <span class="item-subtitle">Planes y rutinas creadas</span>
            </div>
            <span class="item-pill">Ver planes</span>
        </button>

        <button
            class="quick-menu-item"
            routerLink="/entrenador/MisRutinas"
            (click)="closeMenu()"
        >
            <div class="quick-menu-textblock">
                <span class="item-title">Mis rutinas</span>
                <span class="item-subtitle">Rutinas disponibles</span>
            </div>
            <span class="item-pill">Gestionar</span>
        </button>

        <button
            class="quick-menu-item"
            routerLink="/entrenador/asistencias"
            (click)="closeMenu()"
        >
            <div class="quick-menu-textblock">
                <span class="item-title">Asistencias de clientes</span>
                <span class="item-subtitle">Control de entrenamientos</span>
            </div>
            <span class="item-pill">Ver asistencias</span>
        </button>

        <button
            class="quick-menu-item"
            routerLink="/entrenador/evaluaciones"
            (click)="closeMenu()"
        >
            <div class="quick-menu-textblock">
                <span class="item-title">Evaluaciones</span>
                <span class="item-subtitle">Progreso de clientes</span>
            </div>
            <span class="item-pill">Ver evaluaciones</span>
        </button>
    </div>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="dashboard-main">
        <!-- Resumen rápido -->
        <section class="dashboard-summary">
            <!-- CLIENTES ACTIVOS -->
            <div class="stat-card clickable" (click)="onClientesActivosClick()">
                <div class="stat-card-header">
                    <span class="stat-label">Clientes activos</span>
                </div>
                <div class="stat-value">{{ (clientesActivos$ | async) ?? 0 }}</div>
                <div class="stat-footer">bajo tu supervisión</div>
            </div>

            <!-- SESIONES ESTE MES -->
            <div class="stat-card clickable" (click)="onSesionesClick()">
                <div class="stat-card-header">
                    <span class="stat-label">Sesiones realizadas</span>
                </div>
                <div class="stat-value">{{ (sesionesEstesMes$ | async) ?? 0 }}</div>
                <div class="stat-footer">este mes</div>
            </div>

            <!-- PLANES ACTIVOS -->
            <div class="stat-card clickable" (click)="onPlanesActivosClick()">
                <div class="stat-card-header">
                    <span class="stat-label">Planes activos</span>
                </div>
                <div class="stat-value">{{ (planesActivos$ | async) ?? 0 }}</div>
                <div class="stat-footer">En ejecución</div>
            </div>

            <!-- PENDIENTES DE EVALUACIÓN -->
            <div
                class="stat-card stat-card--highlight clickable"
                (click)="onPendientesClick()"
            >
                <div class="stat-card-header">
                    <span class="stat-label">Pendientes de evaluación</span>
                </div>
                <div class="stat-value">{{ (pendientesEvaluacion$ | async) ?? 0 }}</div>
                <div class="stat-footer">Clientes a evaluar</div>
            </div>
        </section>

    </main>
</div>
